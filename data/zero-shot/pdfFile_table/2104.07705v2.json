[{"caption":"bsz \nsteps \nsamples days \n\nGoogle BERTBASE \n256 \n1000k \n256M \n5.85 \nGoogle BERTLARGE \n128  ? 2000k \n256M \n26.33 \n\nOur BERTLARGE \n\n128 \n2000k \n256M \n14.11 \n256 \n1000k \n256M \n8.34 \n4096 \n63k \n256M \n2.74 \n8192 \n31k \n256M \n2.53 \n16384 \n16k \n256M \n2.41 \n\nTable 1: Speed comparison between our optimized \nframework and the official implementation of BERT, \nwhile testing on the same hardware and controlling \nfor the number of training examples covered (256M). \n ? Largest batch size we could fit (128), requiring dou-\nble the steps to cover the same amount of examples. \n\n","rows":["4096","16384","Google BERTLARGE","Google BERTBASE","1000k","16k","8192","256M","31k","63k","256","128","2000k","Our BERTLARGE","128 ?"],"columns":["days"],"mergedAllColumns":[],"numberCells":[{"number":"14.11","isBolded":false,"associatedRows":["Google BERTLARGE","128","2000k","256M"],"associatedColumns":["days"],"associatedMergedColumns":[]},{"number":"2.74","isBolded":false,"associatedRows":["Our BERTLARGE","4096","63k","256M"],"associatedColumns":["days"],"associatedMergedColumns":[]},{"number":"8.34","isBolded":false,"associatedRows":["Google BERTLARGE","256","1000k","256M"],"associatedColumns":["days"],"associatedMergedColumns":[]},{"number":"2.53","isBolded":false,"associatedRows":["Google BERTLARGE","8192","31k","256M"],"associatedColumns":["days"],"associatedMergedColumns":[]},{"number":"26.33","isBolded":false,"associatedRows":["Google BERTLARGE","128 ?","2000k","256M"],"associatedColumns":["days"],"associatedMergedColumns":[]},{"number":"5.85","isBolded":false,"associatedRows":["Google BERTBASE","256","1000k","256M"],"associatedColumns":["days"],"associatedMergedColumns":[]},{"number":"2.41","isBolded":false,"associatedRows":["Google BERTLARGE","16384","16k","256M"],"associatedColumns":["days"],"associatedMergedColumns":[]}]},{"caption":"Table 2: Speed up (in cumulative training time re-\nduction) for each implementation improvement in our \nframework. Each line represents the original model \nwithout the measured feature, aggregated with preced-\ning feature. \n\n","rows":["4096","16384","8192"],"columns":["( b ) Learning Rate","( a ) Batch Size"],"mergedAllColumns":[],"numberCells":[{"number":"1.8","isBolded":false,"associatedRows":[],"associatedColumns":["( a ) Batch Size"],"associatedMergedColumns":[]},{"number":"0.002","isBolded":false,"associatedRows":["4096","8192","16384"],"associatedColumns":[],"associatedMergedColumns":[]},{"number":"1.9","isBolded":false,"associatedRows":[],"associatedColumns":["( b ) Learning Rate"],"associatedMergedColumns":[]},{"number":"0.001","isBolded":false,"associatedRows":["4096","8192","16384"],"associatedColumns":[],"associatedMergedColumns":[]},{"number":"1.75","isBolded":false,"associatedRows":[],"associatedColumns":[],"associatedMergedColumns":[]},{"number":"1.9","isBolded":false,"associatedRows":[],"associatedColumns":["( a ) Batch Size"],"associatedMergedColumns":[]},{"number":"1.85","isBolded":false,"associatedRows":[],"associatedColumns":["( b ) Learning Rate"],"associatedMergedColumns":[]},{"number":"1.9","isBolded":false,"associatedRows":[],"associatedColumns":[],"associatedMergedColumns":[]},{"number":"1.8","isBolded":false,"associatedRows":[],"associatedColumns":[],"associatedMergedColumns":[]},{"number":"1.85","isBolded":false,"associatedRows":[],"associatedColumns":["( a ) Batch Size"],"associatedMergedColumns":[]},{"number":"1.85","isBolded":false,"associatedRows":[],"associatedColumns":[],"associatedMergedColumns":[]},{"number":"1.75","isBolded":false,"associatedRows":[],"associatedColumns":[],"associatedMergedColumns":[]},{"number":"1.75","isBolded":false,"associatedRows":[],"associatedColumns":["( a ) Batch Size"],"associatedMergedColumns":[]},{"number":"1.8","isBolded":false,"associatedRows":[],"associatedColumns":["( b ) Learning Rate"],"associatedMergedColumns":[]},{"number":"1.75","isBolded":false,"associatedRows":[],"associatedColumns":["( b ) Learning Rate"],"associatedMergedColumns":[]},{"number":"1.85","isBolded":false,"associatedRows":[],"associatedColumns":[],"associatedMergedColumns":[]},{"number":"0.0005","isBolded":false,"associatedRows":["4096","8192","16384"],"associatedColumns":[],"associatedMergedColumns":[]},{"number":"1.9","isBolded":false,"associatedRows":[],"associatedColumns":[],"associatedMergedColumns":[]},{"number":"1.8","isBolded":false,"associatedRows":[],"associatedColumns":[],"associatedMergedColumns":[]}]},{"caption":"Table 3: Best hyperparameter configurations by MLM \nloss recorded after 24 hours of training. \n\n","rows":["BERTBASE","256","Search #5","Search #3","Search #4","Search #1","Search #2","1e - 4","BERTLARGE"],"columns":["loss","4096","4%","1","2%","8192","days","wu","6%"],"mergedAllColumns":["3"],"numberCells":[{"number":"1.722","isBolded":false,"associatedRows":["Search #4"],"associatedColumns":["loss","4096","4096","4096"],"associatedMergedColumns":[]},{"number":"11.1%","isBolded":false,"associatedRows":["BERTLARGE","256","1e - 4"],"associatedColumns":["wu","6%","2%","6%","6%","4%"],"associatedMergedColumns":["3"]},{"number":"1.717","isBolded":false,"associatedRows":["Search #2"],"associatedColumns":["loss","4096"],"associatedMergedColumns":[]},{"number":"2.318","isBolded":false,"associatedRows":["BERTLARGE"],"associatedColumns":["loss","4096","4096","4096","8192","4096"],"associatedMergedColumns":["3"]},{"number":"1.720","isBolded":false,"associatedRows":["Search #3"],"associatedColumns":["loss","4096","4096"],"associatedMergedColumns":[]},{"number":"8.3","isBolded":false,"associatedRows":["BERTLARGE","256","1e - 4"],"associatedColumns":["days","1","1","1","1","1"],"associatedMergedColumns":["3"]},{"number":"1.717","isBolded":false,"associatedRows":["Search #1"],"associatedColumns":["loss"],"associatedMergedColumns":[]},{"number":"1.723","isBolded":false,"associatedRows":["Search #5"],"associatedColumns":["loss","4096","4096","4096","8192"],"associatedMergedColumns":[]},{"number":"11.1%","isBolded":false,"associatedRows":["BERTBASE","256","1e - 4"],"associatedColumns":["wu","6%","2%","6%","6%","4%"],"associatedMergedColumns":[]},{"number":"2.050","isBolded":false,"associatedRows":["BERTBASE"],"associatedColumns":["loss","4096","4096","4096","8192","4096"],"associatedMergedColumns":[]}]},{"caption":"Table 4: Performance on GLUE test sets. Results for RTE, STS and MRPC are reported by first finetuning on the \nMNLI model instead of the baseline pretrained model. \n\n","rows":["105k","364k","87 . 0 / 86 . 5","393k","24hBERT","84 . 4 / 83 . 8","67k","RoBERTaBASE","BERTLARGE","BERTBASE","86 . 0 / 85 . 2","#Examples","84 . 6 / 84 . 0"],"columns":["CoLA","QQP","RTE","SST - 2","Avg .","MRPC","QNLI","STS - B"],"mergedAllColumns":["7k"],"numberCells":[{"number":"72.0","isBolded":false,"associatedRows":["BERTBASE","84 . 6 / 84 . 0"],"associatedColumns":["QQP"],"associatedMergedColumns":["7k"]},{"number":"81.1","isBolded":false,"associatedRows":["24hBERT","84 . 4 / 83 . 8"],"associatedColumns":["Avg ."],"associatedMergedColumns":["7k"]},{"number":"87.7","isBolded":false,"associatedRows":["BERTBASE","84 . 6 / 84 . 0"],"associatedColumns":["STS - B"],"associatedMergedColumns":["7k"]},{"number":"8.5k","isBolded":false,"associatedRows":["#Examples","393k","105k","364k","67k"],"associatedColumns":["CoLA"],"associatedMergedColumns":[]},{"number":"89.9","isBolded":false,"associatedRows":["BERTLARGE","86 . 0 / 85 . 2"],"associatedColumns":["MRPC"],"associatedMergedColumns":["7k"]},{"number":"95.8","isBolded":false,"associatedRows":["RoBERTaBASE","87 . 0 / 86 . 5"],"associatedColumns":["SST - 2"],"associatedMergedColumns":["7k"]},{"number":"87.5","isBolded":false,"associatedRows":["BERTLARGE","86 . 0 / 85 . 2"],"associatedColumns":["STS - B"],"associatedMergedColumns":["7k"]},{"number":"92.8","isBolded":false,"associatedRows":["BERTBASE","84 . 6 / 84 . 0"],"associatedColumns":["SST - 2"],"associatedMergedColumns":["7k"]},{"number":"78.3","isBolded":false,"associatedRows":["BERTLARGE","86 . 0 / 85 . 2"],"associatedColumns":["RTE"],"associatedMergedColumns":["7k"]},{"number":"83.4","isBolded":false,"associatedRows":["RoBERTaBASE","87 . 0 / 86 . 5"],"associatedColumns":["Avg ."],"associatedMergedColumns":["7k"]},{"number":"93.0","isBolded":false,"associatedRows":["24hBERT","84 . 4 / 83 . 8"],"associatedColumns":["SST - 2"],"associatedMergedColumns":["7k"]},{"number":"92.4","isBolded":false,"associatedRows":["RoBERTaBASE","87 . 0 / 86 . 5"],"associatedColumns":["QNLI"],"associatedMergedColumns":["7k"]},{"number":"70.7","isBolded":false,"associatedRows":["24hBERT","84 . 4 / 83 . 8"],"associatedColumns":["QQP"],"associatedMergedColumns":["7k"]},{"number":"81.5","isBolded":false,"associatedRows":["BERTBASE","84 . 6 / 84 . 0"],"associatedColumns":["Avg ."],"associatedMergedColumns":["7k"]},{"number":"89.7","isBolded":false,"associatedRows":["RoBERTaBASE","87 . 0 / 86 . 5"],"associatedColumns":["MRPC"],"associatedMergedColumns":["7k"]},{"number":"72.0","isBolded":false,"associatedRows":["BERTLARGE","86 . 0 / 85 . 2"],"associatedColumns":["QQP"],"associatedMergedColumns":["7k"]},{"number":"55.1","isBolded":false,"associatedRows":["BERTBASE","84 . 6 / 84 . 0"],"associatedColumns":["CoLA"],"associatedMergedColumns":["7k"]},{"number":"88.3","isBolded":false,"associatedRows":["RoBERTaBASE","87 . 0 / 86 . 5"],"associatedColumns":["STS - B"],"associatedMergedColumns":["7k"]},{"number":"75.3","isBolded":false,"associatedRows":["24hBERT","84 . 4 / 83 . 8"],"associatedColumns":["RTE"],"associatedMergedColumns":["7k"]},{"number":"79.6","isBolded":false,"associatedRows":["RoBERTaBASE","87 . 0 / 86 . 5"],"associatedColumns":["RTE"],"associatedMergedColumns":["7k"]},{"number":"3.7k","isBolded":false,"associatedRows":["#Examples","393k","105k","364k","67k"],"associatedColumns":["MRPC"],"associatedMergedColumns":[]},{"number":"88.5","isBolded":false,"associatedRows":["24hBERT","84 . 4 / 83 . 8"],"associatedColumns":["MRPC"],"associatedMergedColumns":["7k"]},{"number":"89.9","isBolded":false,"associatedRows":["BERTBASE","84 . 6 / 84 . 0"],"associatedColumns":["MRPC"],"associatedMergedColumns":["7k"]},{"number":"58.8","isBolded":false,"associatedRows":["RoBERTaBASE","87 . 0 / 86 . 5"],"associatedColumns":["CoLA"],"associatedMergedColumns":["7k"]},{"number":"90.6","isBolded":false,"associatedRows":["24hBERT","84 . 4 / 83 . 8"],"associatedColumns":["QNLI"],"associatedMergedColumns":["7k"]},{"number":"94.5","isBolded":false,"associatedRows":["BERTLARGE","86 . 0 / 85 . 2"],"associatedColumns":["SST - 2"],"associatedMergedColumns":["7k"]},{"number":"57.1","isBolded":false,"associatedRows":["24hBERT","84 . 4 / 83 . 8"],"associatedColumns":["CoLA"],"associatedMergedColumns":["7k"]},{"number":"72.5","isBolded":false,"associatedRows":["RoBERTaBASE","87 . 0 / 86 . 5"],"associatedColumns":["QQP"],"associatedMergedColumns":["7k"]},{"number":"86.8","isBolded":false,"associatedRows":["24hBERT","84 . 4 / 83 . 8"],"associatedColumns":["STS - B"],"associatedMergedColumns":["7k"]},{"number":"60.9","isBolded":false,"associatedRows":["BERTLARGE","86 . 0 / 85 . 2"],"associatedColumns":["CoLA"],"associatedMergedColumns":["7k"]},{"number":"90.6","isBolded":false,"associatedRows":["BERTBASE","84 . 6 / 84 . 0"],"associatedColumns":["QNLI"],"associatedMergedColumns":["7k"]},{"number":"92.6","isBolded":false,"associatedRows":["BERTLARGE","86 . 0 / 85 . 2"],"associatedColumns":["QNLI"],"associatedMergedColumns":["7k"]},{"number":"2.5k","isBolded":false,"associatedRows":["#Examples","393k","105k","364k"],"associatedColumns":["RTE"],"associatedMergedColumns":[]},{"number":"83.0","isBolded":false,"associatedRows":["BERTLARGE","86 . 0 / 85 . 2"],"associatedColumns":["Avg ."],"associatedMergedColumns":["7k"]},{"number":"76.5","isBolded":false,"associatedRows":["BERTBASE","84 . 6 / 84 . 0"],"associatedColumns":["RTE"],"associatedMergedColumns":["7k"]}]},{"caption":"Table 5: Hyperparameters used for pretraining our \nmodels. \n\n","rows":["Adam ?2","Gradient Clipping","Adam ?1","Weight Decay","Attention Dropout","Dropout"],"columns":["4096","24","16","1024","AdamW","1e - 6","64","Linear","Our Model"],"mergedAllColumns":[],"numberCells":[{"number":"0.0","isBolded":false,"associatedRows":["Gradient Clipping"],"associatedColumns":["Our Model","24","1024","4096","16","64","Linear","AdamW","1e - 6"],"associatedMergedColumns":[]},{"number":"0.1","isBolded":false,"associatedRows":["Dropout"],"associatedColumns":["Our Model","24","1024","4096","16","64"],"associatedMergedColumns":[]},{"number":"0.01","isBolded":false,"associatedRows":["Weight Decay"],"associatedColumns":["Our Model","24","1024","4096","16","64","Linear"],"associatedMergedColumns":[]},{"number":"0.1","isBolded":false,"associatedRows":["Attention Dropout"],"associatedColumns":["Our Model","24","1024","4096","16","64"],"associatedMergedColumns":[]},{"number":"0.98","isBolded":false,"associatedRows":["Adam ?2"],"associatedColumns":["Our Model","24","1024","4096","16","64","Linear","AdamW","1e - 6"],"associatedMergedColumns":[]},{"number":"0.9","isBolded":false,"associatedRows":["Adam ?1"],"associatedColumns":["Our Model","24","1024","4096","16","64","Linear","AdamW","1e - 6"],"associatedMergedColumns":[]}]},{"caption":"Table 6: Number of days, batch size per GPU \n(BSZ/GPU), and number of gradient accumulations \n(ACC) to train a model using our recipe (24hBERT) \nwith more recent GPUs. \n\n","rows":["112","200","Titan - V 12GB"],"columns":["ACC","112","200","37","16","GPUs","Days","20","32"],"mergedAllColumns":["RTX 3090 24GB"],"numberCells":[{"number":"1.00","isBolded":false,"associatedRows":["Titan - V 12GB"],"associatedColumns":["Days"],"associatedMergedColumns":[]},{"number":"5.84","isBolded":false,"associatedRows":[],"associatedColumns":["Days","32"],"associatedMergedColumns":[]},{"number":"4","isBolded":false,"associatedRows":[],"associatedColumns":["GPUs","32","112"],"associatedMergedColumns":[]},{"number":"1","isBolded":false,"associatedRows":[],"associatedColumns":["GPUs","32","112"],"associatedMergedColumns":["RTX 3090 24GB"]},{"number":"4","isBolded":false,"associatedRows":[],"associatedColumns":["GPUs","32","112","200"],"associatedMergedColumns":["RTX 3090 24GB"]},{"number":"0.74","isBolded":false,"associatedRows":[],"associatedColumns":["Days","32","112","200"],"associatedMergedColumns":["RTX 3090 24GB"]},{"number":"8","isBolded":false,"associatedRows":["Titan - V 12GB"],"associatedColumns":["GPUs"],"associatedMergedColumns":[]},{"number":"9","isBolded":false,"associatedRows":["112"],"associatedColumns":["ACC","16","37"],"associatedMergedColumns":[]},{"number":"1.55","isBolded":false,"associatedRows":[],"associatedColumns":["Days","32","112"],"associatedMergedColumns":[]},{"number":"5","isBolded":false,"associatedRows":["200"],"associatedColumns":["ACC","16","37","20"],"associatedMergedColumns":["RTX 3090 24GB"]},{"number":"1","isBolded":false,"associatedRows":[],"associatedColumns":["GPUs","32"],"associatedMergedColumns":[]},{"number":"2.75","isBolded":false,"associatedRows":[],"associatedColumns":["Days","32","112"],"associatedMergedColumns":["RTX 3090 24GB"]}]},{"caption":"Table 7: The hyperparameter space used for finetuning our model on GLUE benchmark tasks, and the XNLI \nFrench task. \n","rows":["Weight Decay","Warmup Proportion"],"columns":["{5e - 5 , 8e - 5}","{3 , 5 , 10}","MNLI , QQP , QNLI , XNLI French","{3 , 5}","{16 , 32}","RTE , SST - 2 , MRPC , CoLA , STS - B , WNLI","{1e - 5 , 3e - 5 , 5e - 5 , 8e - 5}","32"],"mergedAllColumns":[],"numberCells":[{"number":"0.1","isBolded":false,"associatedRows":["Weight Decay"],"associatedColumns":["RTE , SST - 2 , MRPC , CoLA , STS - B , WNLI","{1e - 5 , 3e - 5 , 5e - 5 , 8e - 5}","{16 , 32}"],"associatedMergedColumns":[]},{"number":"0.1","isBolded":false,"associatedRows":["Weight Decay"],"associatedColumns":["MNLI , QQP , QNLI , XNLI French","{5e - 5 , 8e - 5}","32"],"associatedMergedColumns":[]},{"number":"0.06","isBolded":false,"associatedRows":["Warmup Proportion"],"associatedColumns":["RTE , SST - 2 , MRPC , CoLA , STS - B , WNLI","{1e - 5 , 3e - 5 , 5e - 5 , 8e - 5}","{16 , 32}","{3 , 5 , 10}"],"associatedMergedColumns":[]},{"number":"0.06","isBolded":false,"associatedRows":["Warmup Proportion"],"associatedColumns":["MNLI , QQP , QNLI , XNLI French","{5e - 5 , 8e - 5}","32","{3 , 5}"],"associatedMergedColumns":[]}]}]