[{"caption":"ERM \nDRO \nERM \nDRO \nTrain \n100.0 \n100.0 \n100.0 \n100.0 \nTest \n97.3 \n97.4 \n60.0 \n76.9 \nTrain \n100.0 \n100.0 \n99.9 \n100.0 \nTest \n94.8 \n94.7 \n41.1 \n41.1 \nTrain \n99.9 \n99.3 \n99.9 \n99.0 \nTest \n82.5 \n82.0 \n65.7 \n66.4 \n\nTrain \n97.6 \n99.1 \n35.7 \n97.5 \nTest \n95.7 \n96.6 \n21.3 \n84.6 \nTrain \n95.7 \n95.0 \n40.4 \n93.4 \nTest \n95.8 \n93.5 \n37.8 \n86.7 \n\nTrain \n86.2 \n80.1 \n7.1 \n74.2 \nTest \n93.8 \n93.2 \n6.7 \n86.0 \nTrain \n91.3 \n87.5 \n14.2 \n85.1 \nTest \n94.6 \n91.8 \n25.0 \n88.3 \nTrain \n91.5 \n86.1 \n78.6 \n83.3 \nTest \n82.8 \n81.4 \n66.0 \n77.7 \n\nAverage Accuracy \nWorst-Group Accuracy \n\nCelebA \n\nWaterbirds \n\nStrong \n\n? \n2 Penalty \n\nCelebA \n\nWaterbirds \n\nMultiNLI \n\nStandard \nRegularization \n\nEarly Stopping \n\nCelebA \n\nWaterbirds \n\nMultiNLI \n\nTable 1: Average and worst-group accuracies for each training method. Both ERM and DRO models \nperform poorly on the worst-case group in the absence of regularization (top). With strong regu-\nlarization (middle, bottom), DRO achieves high worst-group performance, significantly improving \nfrom ERM. Cells are colored by accuracy, from low (red) to medium (white) to high (blue) accuracy. \n\n","rows":["Test","Standard Regularization","Stopping","Early","Train","Strong","Penalty"],"columns":["DRO","ERM","Average Accuracy","Worst - Group Accuracy"],"mergedAllColumns":["MultiNLI","2","Waterbirds","?","CelebA"],"numberCells":[{"number":"94.8","isBolded":false,"associatedRows":["Standard Regularization","Penalty","Test"],"associatedColumns":["Average Accuracy","ERM"],"associatedMergedColumns":["Waterbirds"]},{"number":"97.3","isBolded":false,"associatedRows":["Standard Regularization","Penalty","Test"],"associatedColumns":["Average Accuracy","ERM"],"associatedMergedColumns":[]},{"number":"99.3","isBolded":false,"associatedRows":["Standard Regularization","Penalty","Train"],"associatedColumns":["Average Accuracy","DRO"],"associatedMergedColumns":["CelebA"]},{"number":"95.7","isBolded":false,"associatedRows":["Strong","Train"],"associatedColumns":["Average Accuracy","ERM"],"associatedMergedColumns":["2"]},{"number":"82.8","isBolded":false,"associatedRows":["Early","Test"],"associatedColumns":["Average Accuracy","ERM"],"associatedMergedColumns":["CelebA"]},{"number":"81.4","isBolded":false,"associatedRows":["Early","Test"],"associatedColumns":["Average Accuracy","DRO"],"associatedMergedColumns":["CelebA"]},{"number":"84.6","isBolded":false,"associatedRows":["Penalty","Test"],"associatedColumns":["Worst - Group Accuracy","DRO"],"associatedMergedColumns":["MultiNLI"]},{"number":"83.3","isBolded":false,"associatedRows":["Early","Train"],"associatedColumns":["Worst - Group Accuracy","DRO"],"associatedMergedColumns":["CelebA"]},{"number":"91.5","isBolded":false,"associatedRows":["Early","Train"],"associatedColumns":["Average Accuracy","ERM"],"associatedMergedColumns":["CelebA"]},{"number":"95.8","isBolded":false,"associatedRows":["Strong","Test"],"associatedColumns":["Average Accuracy","ERM"],"associatedMergedColumns":["?"]},{"number":"100.0","isBolded":false,"associatedRows":["Standard Regularization","Penalty","Train"],"associatedColumns":["Worst - Group Accuracy","ERM"],"associatedMergedColumns":[]},{"number":"86.7","isBolded":false,"associatedRows":["Strong","Test"],"associatedColumns":["Worst - Group Accuracy","DRO"],"associatedMergedColumns":["?"]},{"number":"78.6","isBolded":false,"associatedRows":["Early","Train"],"associatedColumns":["Worst - Group Accuracy","ERM"],"associatedMergedColumns":["CelebA"]},{"number":"85.1","isBolded":false,"associatedRows":["Stopping","Train"],"associatedColumns":["Worst - Group Accuracy","DRO"],"associatedMergedColumns":["Waterbirds"]},{"number":"77.7","isBolded":false,"associatedRows":["Early","Test"],"associatedColumns":["Worst - Group Accuracy","DRO"],"associatedMergedColumns":["CelebA"]},{"number":"41.1","isBolded":false,"associatedRows":["Standard Regularization","Penalty","Test"],"associatedColumns":["Worst - Group Accuracy","ERM"],"associatedMergedColumns":["Waterbirds"]},{"number":"14.2","isBolded":false,"associatedRows":["Stopping","Train"],"associatedColumns":["Worst - Group Accuracy","ERM"],"associatedMergedColumns":["Waterbirds"]},{"number":"97.6","isBolded":false,"associatedRows":["Penalty","Train"],"associatedColumns":["Average Accuracy","ERM"],"associatedMergedColumns":["MultiNLI"]},{"number":"25.0","isBolded":false,"associatedRows":["Early","Test"],"associatedColumns":["Worst - Group Accuracy","ERM"],"associatedMergedColumns":["Waterbirds"]},{"number":"82.5","isBolded":false,"associatedRows":["Standard Regularization","Penalty","Test"],"associatedColumns":["Average Accuracy","ERM"],"associatedMergedColumns":["CelebA"]},{"number":"95.0","isBolded":false,"associatedRows":["Strong","Train"],"associatedColumns":["Average Accuracy","DRO"],"associatedMergedColumns":["2"]},{"number":"100.0","isBolded":false,"associatedRows":["Standard Regularization","Penalty","Train"],"associatedColumns":["Average Accuracy","DRO"],"associatedMergedColumns":["Waterbirds"]},{"number":"21.3","isBolded":false,"associatedRows":["Penalty","Test"],"associatedColumns":["Worst - Group Accuracy","ERM"],"associatedMergedColumns":["MultiNLI"]},{"number":"95.7","isBolded":false,"associatedRows":["Penalty","Test"],"associatedColumns":["Average Accuracy","ERM"],"associatedMergedColumns":["MultiNLI"]},{"number":"94.7","isBolded":false,"associatedRows":["Standard Regularization","Penalty","Test"],"associatedColumns":["Average Accuracy","DRO"],"associatedMergedColumns":["Waterbirds"]},{"number":"65.7","isBolded":false,"associatedRows":["Standard Regularization","Penalty","Test"],"associatedColumns":["Worst - Group Accuracy","ERM"],"associatedMergedColumns":["CelebA"]},{"number":"93.2","isBolded":false,"associatedRows":["Stopping","Test"],"associatedColumns":["Average Accuracy","DRO"],"associatedMergedColumns":["CelebA"]},{"number":"93.8","isBolded":false,"associatedRows":["Stopping","Test"],"associatedColumns":["Average Accuracy","ERM"],"associatedMergedColumns":["CelebA"]},{"number":"60.0","isBolded":false,"associatedRows":["Standard Regularization","Penalty","Test"],"associatedColumns":["Worst - Group Accuracy","ERM"],"associatedMergedColumns":[]},{"number":"86.2","isBolded":false,"associatedRows":["Stopping","Train"],"associatedColumns":["Average Accuracy","ERM"],"associatedMergedColumns":["CelebA"]},{"number":"94.6","isBolded":false,"associatedRows":["Early","Test"],"associatedColumns":["Average Accuracy","ERM"],"associatedMergedColumns":["Waterbirds"]},{"number":"99.9","isBolded":false,"associatedRows":["Standard Regularization","Penalty","Train"],"associatedColumns":["Worst - Group Accuracy","ERM"],"associatedMergedColumns":["CelebA"]},{"number":"86.0","isBolded":false,"associatedRows":["Stopping","Test"],"associatedColumns":["Worst - Group Accuracy","DRO"],"associatedMergedColumns":["CelebA"]},{"number":"93.4","isBolded":false,"associatedRows":["Strong","Train"],"associatedColumns":["Worst - Group Accuracy","DRO"],"associatedMergedColumns":["2"]},{"number":"100.0","isBolded":false,"associatedRows":["Standard Regularization","Penalty","Train"],"associatedColumns":["Worst - Group Accuracy","DRO"],"associatedMergedColumns":[]},{"number":"99.1","isBolded":false,"associatedRows":["Penalty","Train"],"associatedColumns":["Average Accuracy","DRO"],"associatedMergedColumns":["MultiNLI"]},{"number":"96.6","isBolded":false,"associatedRows":["Penalty","Test"],"associatedColumns":["Average Accuracy","DRO"],"associatedMergedColumns":["MultiNLI"]},{"number":"7.1","isBolded":false,"associatedRows":["Stopping","Train"],"associatedColumns":["Worst - Group Accuracy","ERM"],"associatedMergedColumns":["CelebA"]},{"number":"99.9","isBolded":false,"associatedRows":["Standard Regularization","Penalty","Train"],"associatedColumns":["Average Accuracy","ERM"],"associatedMergedColumns":["CelebA"]},{"number":"40.4","isBolded":false,"associatedRows":["Strong","Train"],"associatedColumns":["Worst - Group Accuracy","ERM"],"associatedMergedColumns":["2"]},{"number":"93.5","isBolded":false,"associatedRows":["Strong","Test"],"associatedColumns":["Average Accuracy","DRO"],"associatedMergedColumns":["?"]},{"number":"66.0","isBolded":false,"associatedRows":["Early","Test"],"associatedColumns":["Worst - Group Accuracy","ERM"],"associatedMergedColumns":["CelebA"]},{"number":"100.0","isBolded":false,"associatedRows":["Standard Regularization","Penalty","Train"],"associatedColumns":["Average Accuracy","ERM"],"associatedMergedColumns":[]},{"number":"37.8","isBolded":false,"associatedRows":["Strong","Test"],"associatedColumns":["Worst - Group Accuracy","ERM"],"associatedMergedColumns":["?"]},{"number":"80.1","isBolded":false,"associatedRows":["Stopping","Train"],"associatedColumns":["Average Accuracy","DRO"],"associatedMergedColumns":["CelebA"]},{"number":"91.8","isBolded":false,"associatedRows":["Early","Test"],"associatedColumns":["Average Accuracy","DRO"],"associatedMergedColumns":["Waterbirds"]},{"number":"100.0","isBolded":false,"associatedRows":["Standard Regularization","Penalty","Train"],"associatedColumns":["Average Accuracy","DRO"],"associatedMergedColumns":[]},{"number":"76.9","isBolded":false,"associatedRows":["Standard Regularization","Penalty","Test"],"associatedColumns":["Worst - Group Accuracy","DRO"],"associatedMergedColumns":[]},{"number":"99.0","isBolded":false,"associatedRows":["Standard Regularization","Penalty","Train"],"associatedColumns":["Worst - Group Accuracy","DRO"],"associatedMergedColumns":["CelebA"]},{"number":"87.5","isBolded":false,"associatedRows":["Stopping","Train"],"associatedColumns":["Average Accuracy","DRO"],"associatedMergedColumns":["Waterbirds"]},{"number":"82.0","isBolded":false,"associatedRows":["Standard Regularization","Penalty","Test"],"associatedColumns":["Average Accuracy","DRO"],"associatedMergedColumns":["CelebA"]},{"number":"66.4","isBolded":false,"associatedRows":["Standard Regularization","Penalty","Test"],"associatedColumns":["Worst - Group Accuracy","DRO"],"associatedMergedColumns":["CelebA"]},{"number":"97.5","isBolded":false,"associatedRows":["Penalty","Train"],"associatedColumns":["Worst - Group Accuracy","DRO"],"associatedMergedColumns":["MultiNLI"]},{"number":"91.3","isBolded":false,"associatedRows":["Stopping","Train"],"associatedColumns":["Average Accuracy","ERM"],"associatedMergedColumns":["Waterbirds"]},{"number":"74.2","isBolded":false,"associatedRows":["Stopping","Train"],"associatedColumns":["Worst - Group Accuracy","DRO"],"associatedMergedColumns":["CelebA"]},{"number":"88.3","isBolded":false,"associatedRows":["Early","Test"],"associatedColumns":["Worst - Group Accuracy","DRO"],"associatedMergedColumns":["Waterbirds"]},{"number":"100.0","isBolded":false,"associatedRows":["Standard Regularization","Penalty","Train"],"associatedColumns":["Worst - Group Accuracy","DRO"],"associatedMergedColumns":["Waterbirds"]},{"number":"97.4","isBolded":false,"associatedRows":["Standard Regularization","Penalty","Test"],"associatedColumns":["Average Accuracy","DRO"],"associatedMergedColumns":[]},{"number":"6.7","isBolded":false,"associatedRows":["Stopping","Test"],"associatedColumns":["Worst - Group Accuracy","ERM"],"associatedMergedColumns":["CelebA"]},{"number":"100.0","isBolded":false,"associatedRows":["Standard Regularization","Penalty","Train"],"associatedColumns":["Average Accuracy","ERM"],"associatedMergedColumns":["Waterbirds"]},{"number":"99.9","isBolded":false,"associatedRows":["Standard Regularization","Penalty","Train"],"associatedColumns":["Worst - Group Accuracy","ERM"],"associatedMergedColumns":["Waterbirds"]},{"number":"41.1","isBolded":false,"associatedRows":["Standard Regularization","Penalty","Test"],"associatedColumns":["Worst - Group Accuracy","DRO"],"associatedMergedColumns":["Waterbirds"]},{"number":"86.1","isBolded":false,"associatedRows":["Early","Train"],"associatedColumns":["Average Accuracy","DRO"],"associatedMergedColumns":["CelebA"]},{"number":"35.7","isBolded":false,"associatedRows":["Penalty","Train"],"associatedColumns":["Worst - Group Accuracy","ERM"],"associatedMergedColumns":["MultiNLI"]}]},{"caption":"Table 2: Average and worst-group test accuracies with and without group adjustments. Group ad-\njustments improve worst-group accuracy, though average accuracy drops for Waterbirds. \n\n","rows":["Waterbirds","CelebA"],"columns":["Na?ve","Average Accuracy","Worst - Group Accuracy","Adjusted","C \u003d 0"],"mergedAllColumns":["Accuracy"],"numberCells":[{"number":"87.8","isBolded":false,"associatedRows":["CelebA"],"associatedColumns":["Worst - Group Accuracy","Adjusted"],"associatedMergedColumns":[]},{"number":"1.0","isBolded":true,"associatedRows":[],"associatedColumns":["Average Accuracy","Na?ve"],"associatedMergedColumns":[]},{"number":"96.6","isBolded":false,"associatedRows":["Waterbirds"],"associatedColumns":["Average Accuracy","Na?ve"],"associatedMergedColumns":[]},{"number":"90.5","isBolded":false,"associatedRows":["Waterbirds"],"associatedColumns":["Worst - Group Accuracy","Adjusted"],"associatedMergedColumns":[]},{"number":"93.5","isBolded":false,"associatedRows":["CelebA"],"associatedColumns":["Average Accuracy","Na?ve"],"associatedMergedColumns":[]},{"number":"86.7","isBolded":false,"associatedRows":["CelebA"],"associatedColumns":["Worst - Group Accuracy","Na?ve"],"associatedMergedColumns":[]},{"number":"93.7","isBolded":false,"associatedRows":["Waterbirds"],"associatedColumns":["Average Accuracy","Adjusted"],"associatedMergedColumns":[]},{"number":"84.6","isBolded":false,"associatedRows":["Waterbirds"],"associatedColumns":["Worst - Group Accuracy","Na?ve"],"associatedMergedColumns":[]},{"number":"93.4","isBolded":false,"associatedRows":["CelebA"],"associatedColumns":["Average Accuracy","Adjusted"],"associatedMergedColumns":[]},{"number":"0.7","isBolded":true,"associatedRows":[],"associatedColumns":["Average Accuracy","Na?ve","C \u003d 0"],"associatedMergedColumns":["Accuracy"]}]},{"caption":"Table 3: Comparison of ERM, upweighting (UW), and group DRO models, with binomial standard \ndeviation in parenthesis. For each objective, we grid search over 2 penalty strength, number of \nepochs, and group adjustments and report on the model with highest validation accuracy. These \nnumbers differ from the previous tables because of the larger grid search. \n\n","rows":[")","z","*",";","solution is ? * , while any importance weighting would result in solutions at ?"],"columns":["("],"mergedAllColumns":["(","Figure 4 : Toy example illustrating that DRO and importance weighting are not equivalent . The DRO"],"numberCells":[{"number":"1","isBolded":false,"associatedRows":[")"],"associatedColumns":["("],"associatedMergedColumns":[]},{"number":"0","isBolded":false,"associatedRows":[";"],"associatedColumns":[],"associatedMergedColumns":[]},{"number":"1","isBolded":false,"associatedRows":[],"associatedColumns":[],"associatedMergedColumns":[]},{"number":"1or?","isBolded":true,"associatedRows":["solution is ? * , while any importance weighting would result in solutions at ?"],"associatedColumns":["("],"associatedMergedColumns":["Figure 4 : Toy example illustrating that DRO and importance weighting are not equivalent . The DRO"]},{"number":"1","isBolded":false,"associatedRows":[")"],"associatedColumns":[],"associatedMergedColumns":[]},{"number":"0.6","isBolded":false,"associatedRows":["z"],"associatedColumns":["("],"associatedMergedColumns":[]},{"number":"2","isBolded":false,"associatedRows":[],"associatedColumns":["("],"associatedMergedColumns":[]},{"number":"2.","isBolded":true,"associatedRows":["solution is ? * , while any importance weighting would result in solutions at ?"],"associatedColumns":["("],"associatedMergedColumns":["Figure 4 : Toy example illustrating that DRO and importance weighting are not equivalent . The DRO"]},{"number":"2","isBolded":false,"associatedRows":[";","*"],"associatedColumns":["("],"associatedMergedColumns":["("]},{"number":"1","isBolded":false,"associatedRows":[";"],"associatedColumns":["("],"associatedMergedColumns":["("]},{"number":"0","isBolded":false,"associatedRows":[";"],"associatedColumns":["("],"associatedMergedColumns":[]},{"number":"0.6","isBolded":false,"associatedRows":["z"],"associatedColumns":[],"associatedMergedColumns":[]}]}]